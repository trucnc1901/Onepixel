"function"!=typeof DIL&&(DIL=function(b,c){var e=[],f,l;b!==Object(b)&&(b={});var k,m,u,D,K,r,v,G,t,L,M,x;k=b.partner;m=b.containerNSID;u=b.iframeAttachmentDelay;D=!!b.disableDestinationPublishingIframe;K=b.iframeAkamaiHTTPS;r=b.mappings;v=b.uuidCookie;G=!0===b.enableErrorReporting;t=b.visitorService;L=b.declaredId;M=!0===b.removeFinishedScriptsAndCallbacks;x=!0===b.delayAllUntilWindowLoad;var y,N,O,H,E,P,Q;y=!0===b.disableScriptAttachment;N=!0===b.disableCORSFiring;O=!0===b.disableDefaultRequest;
H=b.afterResultForDefaultRequest;E=b.dpIframeSrc;P=!0===b.testCORS;Q=!0===b.useJSONPOnly;G&&DIL.errorModule.activate();var R=!0===window._dil_unit_tests;(f=c)&&e.push(f+"");if(!k||"string"!=typeof k)return f="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:f,filename:"dil.js"}),Error(f);f="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(m||"number"==typeof m)m=parseInt(m,10),!isNaN(m)&&0<=m&&(f="");f&&
(m=0,e.push(f),f="");l=DIL.getDil(k,m);if(l instanceof DIL&&l.api.getPartner()==k&&l.api.getContainerNSID()==m)return l;if(this instanceof DIL)DIL.registerDil(this,k,m);else return new DIL(b,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+k+" and containerNSID \x3d "+m);var z={IS_HTTPS:"https:"==document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},I={stuffed:{}},n={},p={firingQueue:[],
fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:m+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,
d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){var d=this,g,h,b,f,c;if("function"==typeof a&&"function"==typeof a.getInstance){if(t===Object(t)&&(g=t.namespace)&&"string"==typeof g)h=a.getInstance(g);else{this.releaseType="no namespace";this.releaseRequests();return}if(h===Object(h)&&"function"==
typeof h.isAllowed&&"function"==typeof h.getMarketingCloudVisitorID){if(!h.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=h;this.admsProcessingStarted=!0;b=function(a){"VisitorAPI"!=d.releaseType&&(d.mid=a,d.releaseType="VisitorAPI",d.releaseRequests())};if(R&&(f=t.server)&&"string"==typeof f)h.server=f;c=h.getMarketingCloudVisitorID(b);if("string"==typeof c&&c.length){b(c);return}setTimeout(function(){"VisitorAPI"!=d.releaseType&&(d.releaseType=
"timeout",d.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(e){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;p.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=s.isPopulatedString,d=this.getMarketingCloudVisitorID();if(!a(this.mid)||this.mid!=d)this.mid=
d;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,d){var g=s.isPopulatedString,h=encodeURIComponent;if(a===Object(a)&&g(d)){var b=a.dpid,f=a.dpuuid,c=null;if(g(b)&&g(f)){c=h(b)+"$"+h(f);if(!0===this.declaredIdCombos[c])return"setDeclaredId: combo exists for type '"+d+"'";this.declaredIdCombos[c]=!0;this.declaredId[d]={dpid:b,dpuuid:f};return"setDeclaredId: succeeded for type '"+d+"'"}}return"setDeclaredId: failed for type '"+
d+"'"},getDeclaredIdQueryString:function(){var a=this.declaredId.request,d=this.declaredId.init,g="";null!==a?g="\x26d_dpid\x3d"+a.dpid+"\x26d_dpuuid\x3d"+a.dpuuid:null!==d&&(g="\x26d_dpid\x3d"+d.dpid+"\x26d_dpuuid\x3d"+d.dpuuid);return g}},registerRequest:function(a){var d=this.firingQueue;a===Object(a)&&d.push(a);if(!this.firing&&d.length&&(!x||DIL.windowLoaded))if(this.adms.calledBack){if(a=d.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+
"d_nsid\x3d"),s.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),B.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag))this.firstRequestHasFired=!0}else this.processVisitorAPI()},processVisitorAPI:function(){this.adms.process(window.Visitor)},requestRemoval:function(a){if(!M)return"removeFinishedScriptsAndCallbacks is not boolean true";var d=this.toRemove,g,h;a===Object(a)&&(g=a.script,h=a.callbackName,
(g===Object(g)&&"SCRIPT"==g.nodeName||"no script created"==g)&&("string"==typeof h&&h.length)&&d.push(a));if(this.readyToRemove&&d.length){h=d.shift();g=h.script;h=h.callbackName;"no script created"!=g?(a=g.src,g.parentNode.removeChild(g)):a=g;window[h]=null;try{delete window[h]}catch(b){}this.removed.push({scriptSrc:a,callbackName:h});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(h);return this.requestRemoval()}return"requestRemoval() processed"}};l=function(){var a="http://fast.",
d="?d_nsid\x3d"+m+"#"+encodeURIComponent(document.location.href);if("string"===typeof E&&E.length)return E+d;z.IS_HTTPS&&(a=!0===K?"https://fast.":"https://");return a+k+".demdex.net/dest4.html"+d};var A={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+k+"_"+m,url:l(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:z.POST_MESSAGE_ENABLED?15:100,jsonProcessed:[],attachIframe:function(){var a=this,d=document.createElement("iframe");
d.id=this.id;d.style.cssText="display: none; width: 0; height: 0;";d.src=this.url;q.addListener(d,"load",function(){a.iframeHasLoaded=!0;a.requestToProcess()});document.body.appendChild(d);this.iframe=d},requestToProcess:function(a,d){var g=this;a&&!s.isEmptyObject(a)&&this.process(a,d);this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){g.messageSendingInterval=z.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),
this.sendingMessages=!0,this.sendMessages())},process:function(a,d){var g=encodeURIComponent,h,b,f,c,e,k;d===Object(d)&&(k=q.encodeAndBuildRequest(["",d.dpid||"",d.dpuuid||""],","));if((h=a.dests)&&h instanceof Array&&(b=h.length))for(f=0;f<b;f++)c=h[f],c=[g("dests"),g(c.id||""),g(c.y||""),g(c.c||"")],this.addMessage(c.join("|"));if((h=a.ibs)&&h instanceof Array&&(b=h.length))for(f=0;f<b;f++)c=h[f],c=[g("ibs"),g(c.id||""),g(c.tag||""),q.encodeAndBuildRequest(c.url||[],","),g(c.ttl||""),"",k],this.addMessage(c.join("|"));
if((h=a.dpcalls)&&h instanceof Array&&(b=h.length))for(f=0;f<b;f++)c=h[f],e=c.callback||{},e=[e.obj||"",e.fn||"",e.key||"",e.tag||"",e.url||""],c=[g("dpm"),g(c.id||""),g(c.tag||""),q.encodeAndBuildRequest(c.url||[],","),g(c.ttl||""),q.encodeAndBuildRequest(e,","),k],this.addMessage(c.join("|"));this.jsonProcessed.push(a)},addMessage:function(a){var d=encodeURIComponent,d=G?d("---destpub-debug---"):d("---destpub---");this.messages.push(d+a)},sendMessages:function(){var a=this,d;this.messages.length?
(d=this.messages.shift(),DIL.xd.postMessage(d,this.url,this.iframe.contentWindow),this.messagesPosted.push(d),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},J={traits:function(a){s.isValidPdata(a)&&(n.sids instanceof Array||(n.sids=[]),q.extendArray(n.sids,a));return this},pixels:function(a){s.isValidPdata(a)&&(n.pdata instanceof Array||(n.pdata=[]),q.extendArray(n.pdata,a));return this},logs:function(a){s.isValidLogdata(a)&&(n.logdata!==Object(n.logdata)&&
(n.logdata={}),q.extendObject(n.logdata,a));return this},customQueryParams:function(a){s.isEmptyObject(a)||q.extendObject(n,a,p.reservedKeys);return this},signals:function(a,d){var g,h=a;if(!s.isEmptyObject(h)){if(d&&"string"==typeof d)for(g in h={},a)a.hasOwnProperty(g)&&(h[d+g]=a[g]);q.extendObject(n,h,p.reservedKeys)}return this},declaredId:function(a){p.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"==typeof a&&(n.callback=a);return this},afterResult:function(a){"function"==
typeof a&&(n.postCallbackFn=a);return this},useImageRequest:function(){n.useImageRequest=!0;return this},clearData:function(){n={};return this},submit:function(){B.submitRequest(n);n={};return this},getPartner:function(){return k},getContainerNSID:function(){return m},getEventLog:function(){return e},getState:function(){var a={},d={};q.extendObject(a,p,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});q.extendObject(d,A,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{pendingRequest:n,
otherRequestInfo:a,destinationPublishingInfo:d}},idSync:function(a){if(a!==Object(a)||"string"!=typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!=typeof a.url||!a.url.length)return"Error: config.url is empty";var d=a.url,g=a.minutesToLive,h=encodeURIComponent,b,d=d.replace(/^https:/,"").replace(/^http:/,"");if("undefined"==typeof g)g=20160;else if(g=parseInt(g,10),isNaN(g)||0>=g)return"Error: config.minutesToLive needs to be a positive number";b=q.encodeAndBuildRequest(["",
a.dpid,a.dpuuid||""],",");a=["ibs",h(a.dpid),"img",h(d),g,"",b];A.addMessage(a.join("|"));p.firstRequestHasFired&&A.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(a!==Object(a)||"string"!=typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(s.isEmptyObject(a))return"Error: json is empty or not an object";B.defaultCallback(a);return"json submitted for processing"},
getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var a=p,d=a.modStatsParams,g=a.platformParams,h;if(!d){d={};for(h in g)g.hasOwnProperty(h)&&!a.nonModStatsParams[h]&&(d[h.replace(/^d_/,"")]=g[h]);a.modStatsParams=d}return d}},B={corsMetadata:function(){var a="none",d=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?
a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(d=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(d=!1));return{corsType:a,corsCookiesEnabled:d}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){p.registerRequest(B.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var d=p,g,h=a.callback,b="img",c;if(!s.isEmptyObject(r)){var f,
e,l;for(f in r)if(r.hasOwnProperty(f)&&(e=r[f],!(null==e||""===e)&&f in a&&!(e in a)&&!(e in p.reservedKeys)))l=a[f],null==l||""===l||(a[e]=l)}s.isValidPdata(a.sids)||(a.sids=[]);s.isValidPdata(a.pdata)||(a.pdata=[]);s.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=q.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!=typeof h&&(h=this.defaultCallback);if(d.useJSONP=!0!==a.useImageRequest)b="script",g=d.callbackPrefix+"_"+k+"_"+
m+"_"+(new Date).getTime();d=this.makeRequestSrcData(a,g);if(!Q&&(c=this.getCORSInstance())&&d.truncated&&(this.corsMetadata.corsCookiesEnabled||d.isDeclaredIdCall))b="cors";return{tag:b,src:d.src,corsSrc:d.corsSrc,internalCallbackName:g,callbackFn:h,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:c,corsPostData:d.corsPostData,hasCORSError:!1}},defaultCallback:function(a,d){var g,h,b,c,f,e,k,m,l;if((g=a.stuff)&&g instanceof Array&&(h=g.length))for(b=
0;b<h;b++)if((c=g[b])&&c===Object(c)){f=c.cn;e=c.cv;k=c.ttl;if("undefined"==typeof k||""===k)k=Math.floor(q.getMaxCookieExpiresInMinutes()/60/24);m=c.dmn||"."+document.domain.replace(/^www\./,"");l=c.type;if(f&&(e||"number"==typeof e))"var"!=l&&(k=parseInt(k,10))&&!isNaN(k)&&q.setCookie(f,e,1440*k,"/",m,!1),I.stuffed[f]=e}g=a.uuid;if(s.isPopulatedString(g)&&!s.isEmptyObject(v)){h=v.path;if("string"!=typeof h||!h.length)h="/";b=parseInt(v.days,10);isNaN(b)&&(b=100);q.setCookie(v.name||"aam_did",g,
1440*b,h,v.domain||"."+document.domain.replace(/^www\./,""),!0===v.secure)}!D&&!p.abortRequests&&A.requestToProcess(a,d)},makeRequestSrcData:function(a,d){a.sids=s.removeEmptyArrayValues(a.sids||[]);a.pdata=s.removeEmptyArrayValues(a.pdata||[]);var g=p,b=g.platformParams,c=q.encodeAndBuildRequest(a.sids,","),f=q.encodeAndBuildRequest(a.pdata,","),e=(a.logdataArray||[]).join("\x26");delete a.logdataArray;var l=z.IS_HTTPS?"https://":"http://",t=g.declaredId.getDeclaredIdQueryString(),r;r=[];var w,n,
F,v;for(w in a)if(!(w in g.reservedKeys)&&a.hasOwnProperty(w))if(n=a[w],w=encodeURIComponent(w),n instanceof Array){F=0;for(v=n.length;F<v;F++)r.push(w+"\x3d"+encodeURIComponent(n[F]))}else r.push(w+"\x3d"+encodeURIComponent(n));r=r.length?"\x26"+r.join("\x26"):"";w=!1;c="d_nsid\x3d"+b.d_nsid+t+(c.length?"\x26d_sid\x3d"+c:"")+(f.length?"\x26d_px\x3d"+f:"")+(e.length?"\x26d_ld\x3d"+encodeURIComponent(e):"");b="\x26d_rtbd\x3d"+b.d_rtbd+"\x26d_jsonv\x3d"+b.d_jsonv+"\x26d_dst\x3d"+b.d_dst;l=l+k+".demdex.net/event";
f=g=l+"?"+c+(g.useJSONP?b+"\x26d_cb\x3d"+(d||""):"")+r;2048<g.length&&(g=g.substring(0,g.lastIndexOf("\x26")),w=!0);return{corsSrc:l+"?"+(P?"testcors\x3d1\x26d_nsid\x3d"+m+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:g,originalSrc:f,truncated:w,corsPostData:c+b+r,isDeclaredIdCall:""!==t}},fireRequest:function(a){if("img"==a.tag)this.fireImage(a);else{var d=p.declaredId,d=d.declaredId.request||d.declaredId.init||{},d={dpid:d.dpid||"",dpuuid:d.dpuuid||""};"script"==a.tag?this.fireScript(a,d):"cors"==
a.tag&&this.fireCORS(a,d)}},fireImage:function(a){var d=p,b,h;d.abortRequests||(d.firing=!0,b=new Image(0,0),d.sent.push(a),b.onload=function(){d.firing=!1;d.fired.push(a);d.num_of_img_responses++;d.registerRequest()},h=function(b){f="imgAbortOrErrorHandler received the event of type "+b.type;e.push(f);d.abortRequests=!0;d.firing=!1;d.errored.push(a);d.num_of_img_errors++;d.registerRequest()},b.addEventListener?(b.addEventListener("error",h,!1),b.addEventListener("abort",h,!1)):b.attachEvent&&(b.attachEvent("onerror",
h),b.attachEvent("onabort",h)),b.src=a.src)},fireScript:function(a,d){var b=this,h=p,c,l,m=a.src,t=a.postCallbackFn,r="function"==typeof t,n=a.internalCallbackName;h.abortRequests||(h.firing=!0,window[n]=function(b){try{b!==Object(b)&&(b={});var g=a.callbackFn;h.firing=!1;h.fired.push(a);h.num_of_jsonp_responses++;g(b,d);r&&t(b,d)}catch(c){c.message="DIL jsonp callback caught error with message "+c.message;f=c.message;e.push(f);c.filename=c.filename||"dil.js";c.partner=k;DIL.errorModule.handleError(c);
try{g({error:c.name+"|"+c.message},d),r&&t({error:c.name+"|"+c.message},d)}catch(m){}}finally{h.requestRemoval({script:l,callbackName:n}),h.registerRequest()}},y?(h.firing=!1,h.requestRemoval({script:"no script created",callbackName:n})):(l=document.createElement("script"),l.addEventListener&&l.addEventListener("error",function(d){h.requestRemoval({script:l,callbackName:n});f="jsonp script tag error listener received the event of type "+d.type+" with src "+m;b.handleScriptError(f,a)},!1),l.type="text/javascript",
l.src=m,c=DIL.variables.scriptNodeList[0],c.parentNode.insertBefore(l,c)),h.sent.push(a),h.declaredId.declaredId.request=null)},fireCORS:function(a,d){function b(g){try{var m=JSON.parse(g);if(m!==Object(m)){c.handleCORSError(a,d,"Response is not JSON");return}}catch(r){c.handleCORSError(a,d,"Error parsing response as JSON");return}try{var t=a.callbackFn;l.firing=!1;l.fired.push(a);l.num_of_cors_responses++;t(m,d);v&&q(m,d)}catch(n){n.message="DIL handleCORSResponse caught error with message "+n.message;
f=n.message;e.push(f);n.filename=n.filename||"dil.js";n.partner=k;DIL.errorModule.handleError(n);try{t({error:n.name+"|"+n.message},d),v&&q({error:n.name+"|"+n.message},d)}catch(p){}}finally{l.registerRequest()}}var c=this,l=p,m=this.corsMetadata.corsType,t=a.corsSrc,r=a.corsInstance,n=a.corsPostData,q=a.postCallbackFn,v="function"===typeof q;if(!l.abortRequests){l.firing=!0;if(N)l.firing=!1;else try{r.open("post",t,!0),"XMLHttpRequest"===m?(r.withCredentials=!0,r.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&(200===this.status?b(this.responseText):c.handleCORSError(a,d,"onreadystatechange"))}):"XDomainRequest"===m&&(r.onload=function(){b(this.responseText)}),r.onerror=function(b){c.handleCORSError(a,d,"onerror")},r.ontimeout=function(b){c.handleCORSError(a,d,"ontimeout")},r.send(n)}catch(s){this.handleCORSError(a,d,"try-catch")}l.sent.push(a);l.declaredId.declaredId.request=null}},handleCORSError:function(a,d,b){a.hasCORSError||
(a.hasCORSError=!0,p.num_of_cors_errors++,a.tag="script",this.fireScript(a,d))},handleScriptError:function(a,d){p.num_of_jsonp_errors++;this.handleRequestError(a,d)},handleRequestError:function(a,d){var b=p;e.push(a);b.abortRequests=!0;b.firing=!1;b.errored.push(d);b.registerRequest()}},s={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var d in a)if(a.hasOwnProperty(d))return!1;
return!0},removeEmptyArrayValues:function(a){for(var d=0,b=a.length,c,f=[],d=0;d<b;d++)c=a[d],"undefined"!=typeof c&&null!=c&&f.push(c);return f},isPopulatedString:function(a){return"string"==typeof a&&a.length}},q={addListener:function(){if(document.addEventListener)return function(a,d,b){a.addEventListener(d,function(a){"function"==typeof b&&b(a)},!1)};if(document.attachEvent)return function(a,d,b){a.attachEvent("on"+d,function(a){"function"==typeof b&&b(a)})}}(),convertObjectToKeyValuePairs:function(a,
d,b){var c=[];d=d||"\x3d";var f,e;for(f in a)e=a[f],"undefined"!=typeof e&&null!=e&&c.push(f+d+(b?encodeURIComponent(e):e));return c},encodeAndBuildRequest:function(a,d){return this.map(a,function(a){return encodeURIComponent(a)}).join(d)},map:function(a,d){if(Array.prototype.map)return a.map(d);if(void 0===a||null===a)throw new TypeError;var b=Object(a),c=b.length>>>0;if("function"!==typeof d)throw new TypeError;for(var f=Array(c),e=0;e<c;e++)e in b&&(f[e]=d.call(d,b[e],e,b));return f},filter:function(a,
d){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var b=Object(a),c=b.length>>>0;if("function"!==typeof d)throw new TypeError;for(var f=[],e=0;e<c;e++)if(e in b){var l=b[e];d.call(d,l,e,b)&&f.push(l)}return f}return a.filter(d)},getCookie:function(a){a+="\x3d";var b=document.cookie.split(";"),c,f,e;c=0;for(f=b.length;c<f;c++){for(e=b[c];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(a))return decodeURIComponent(e.substring(a.length,e.length))}return null},setCookie:function(a,
b,c,f,e,l){var k=new Date;c&&(c*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(b)+(c?";expires\x3d"+(new Date(k.getTime()+c)).toUTCString():"")+(f?";path\x3d"+f:"")+(e?";domain\x3d"+e:"")+(l?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,c){var f;if(a===Object(a)&&b===Object(b)){for(f in b)if(b.hasOwnProperty(f)&&(s.isEmptyObject(c)||!(f in c)))a[f]=b[f];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(z.COOKIE_MAX_EXPIRATION_DATE)).getTime()-
(new Date).getTime())/1E3/60}};"error"==k&&0==m&&q.addListener(window,"load",function(){DIL.windowLoaded=!0});var C=function(){p.registerRequest();T();!D&&!p.abortRequests&&A.attachIframe();p.readyToRemove=!0;p.requestRemoval()},T=function(){D||setTimeout(function(){!O&&(!p.firstRequestHasFired&&!p.adms.admsProcessingStarted&&!p.adms.calledBack)&&("function"==typeof H?J.afterResult(H).submit():J.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},S=document;"error"!=k&&(DIL.windowLoaded?C():"complete"!=
S.readyState&&"loaded"!=S.readyState?q.addListener(window,"load",C):DIL.isAddedPostWindowLoadWasCalled?q.addListener(window,"load",C):x||(u="number"==typeof u?parseInt(u,10):0,0>u&&(u=0),setTimeout(C,u||DIL.constants.TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT)));p.declaredId.setDeclaredId(L,"init");this.api=J;this.getStuffedVariable=function(a){var b=I.stuffed[a];!b&&"number"!=typeof b&&(b=q.getCookie(a),!b&&"number"!=typeof b&&(b=""));return b};this.validators=s;this.helpers=q;this.constants=z;this.log=
e;R&&(this.pendingRequest=n,this.requestController=p,this.setDestinationPublishingUrl=l,this.destinationPublishing=A,this.requestProcs=B,this.variables=I,this.callWindowLoadFunctions=C)},function(){var b=document,c;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",c=function(){b.removeEventListener("DOMContentLoaded",c,!1);b.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(b){var c;if(b===Object(b))for(c in b)b.hasOwnProperty(c)&&
(this[c]=b[c])},DIL.extendStaticPropertiesAndMethods({version:"5.4",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50,TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT:500},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoadWasCalled:!1,isAddedPostWindowLoad:function(b){this.isAddedPostWindowLoadWasCalled=!0;this.windowLoaded="function"==typeof b?!!b():"boolean"==typeof b?b:!0},create:function(b){try{return new DIL(b)}catch(c){return(new Image(0,
0)).src="http://error.demdex.net/event?d_nsid\x3d0\x26d_px\x3d14137\x26d_ld\x3dname%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(b,c,e){c=c+"$"+e;c in this.dils||(this.dils[c]=b)},getDil:function(b,c){var e;"string"!=typeof b&&(b="");c||(c=0);e=b+"$"+c;return e in this.dils?
this.dils[e]:Error("The DIL instance with partner \x3d "+b+" and containerNSID \x3d "+c+" was not found")},dexGetQSVars:function(b,c,e){c=this.getDil(c,e);return c instanceof this?c.getStuffedVariable(b):""},xd:{postMessage:function(b,c,e){var f=1;c&&(window.postMessage?e.postMessage(b,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(e.location=c.replace(/#.*$/,"")+"#"+ +new Date+f++ +"\x26"+b))}}}),DIL.errorModule=function(){var b=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),
c={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},e=!1;return{activate:function(){e=!0},handleError:function(f){if(!e)return"DIL error module has not been activated";f!==Object(f)&&(f={});var l=f.name?(new String(f.name)).toLowerCase():"",k=[];f={name:l,filename:f.filename?f.filename+"":"",partner:f.partner?f.partner+"":"no_partner",site:f.site?f.site+
"":document.location.href,message:f.message?f.message+"":""};k.push(l in c?c[l]:c.noerrortypedefined);b.api.pixels(k).logs(f).useImageRequest().submit();return"DIL error report sent"},pixelMap:c}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(b,c,e){var f="";c=c||"Error caught in DIL module/submodule: ";b===Object(b)?f=c+(b.message||"err has no message"):(f=c+"err is not a valid object",b={});b.message=f;e instanceof DIL&&(b.partner=e.api.getPartner());DIL.errorModule.handleError(b);
return this.errorMessage=f}}});
DIL.tools.getSearchReferrer=function(b,c){var e=DIL.getDil("error"),f=DIL.tools.decomposeURI(b||document.referrer),l="",k="",m={queryParam:"q"},l=e.helpers.filter([c===Object(c)?c:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(b){return!(!b.hasOwnProperty("hostPattern")||!f.hostname.match(b.hostPattern))}).shift();return!l?{valid:!1,name:"",keywords:""}:{valid:!0,name:f.hostname,keywords:(e.helpers.extendObject(m,
l),k=m.queryPattern?(l=(""+f.search).match(m.queryPattern))?l[1]:"":f.uriParams[m.queryParam],decodeURIComponent(k||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(b){var c=DIL.getDil("error"),e=document.createElement("a");e.href=b||document.referrer;return{hash:e.hash,host:e.host.split(":").shift(),hostname:e.hostname,href:e.href,pathname:e.pathname.replace(/^\//,""),protocol:e.protocol,search:e.search,uriParams:function(b,e){c.helpers.map(e.split("\x26"),function(c){c=c.split("\x3d");b[c.shift()]=c.shift()});return b}({},e.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var b={},c=document.getElementsByTagName("meta"),e,f,l,k,m;e=0;for(l=arguments.length;e<l;e++)if(k=arguments[e],null!==k)for(f=0;f<c.length;f++)if(m=c[f],m.name==k){b[k]=m.content;break}return b};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(b,c,e,f){try{var l=this,k={name:"DIL Site Catalyst Module Error"},m=function(b){k.message=b;DIL.errorModule.handleError(k);return b};this.options=f===Object(f)?f:{};this.dil=null;if(c instanceof DIL)this.dil=c;else return m("dilInstance is not a valid instance of DIL");k.partner=c.api.getPartner();if(b!==Object(b))return m("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=b.m_DIL=
function(b){var c="function"===typeof b.m_i?b.m_i("DIL"):this;if(c!==Object(c))return m("m is not an object");c.trackVars=l.constructTrackVars(e);c.d=0;c.s=b;c._t=function(){var b,c,f=","+this.trackVars+",",e=this.s,k,u=[];k=[];var x={},y=!1;if(e!==Object(e))return m("Error in m._t function: s is not an object");if(this.d){if("function"==typeof e.foreachVar)e.foreachVar(function(b,c){"undefined"!==typeof c&&(x[b]=c,y=!0)},this.trackVars);else{if(!(e.va_t instanceof Array))return m("Error in m._t function: s.va_t is not an array");
if(e.lightProfileID)(b=e.lightTrackVars)&&(b=","+b+","+e.vl_mr+",");else if(e.pe||e.linkType)b=e.linkTrackVars,e.pe&&(c=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[c]&&(b=e[c].trackVars)),b&&(b=","+b+","+e.vl_l+","+e.vl_l2+",");if(b){c=0;for(u=b.split(",");c<u.length;c++)0<=f.indexOf(","+u[c]+",")&&k.push(u[c]);k.length&&(f=","+k.join(",")+",")}k=0;for(c=e.va_t.length;k<c;k++)b=e.va_t[k],0<=f.indexOf(","+b+",")&&("undefined"!==typeof e[b]&&null!==e[b]&&""!==e[b])&&(x[b]=e[b],y=!0)}l.includeContextData(e,
l,x).store_populated&&(y=!0);y&&this.d.api.signals(x,"c_").submit()}}};b.loadModule("DIL");b.DIL.d=c;return k.message?k.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(u){return this.handle(u,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(b){var c=[],e,f,l,k,m;if(b===Object(b)){e=b.names;if(e instanceof Array&&(l=e.length))for(f=0;f<l;f++)k=e[f],"string"==typeof k&&k.length&&c.push(k);b=b.iteratedNames;if(b instanceof Array&&
(l=b.length))for(f=0;f<l;f++)if(e=b[f],e===Object(e)&&(k=e.name,m=parseInt(e.maxIndex,10),"string"==typeof k&&k.length&&!isNaN(m)&&0<=m))for(e=0;e<=m;e++)c.push(k+e);if(c.length)return c.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(b,c,e){var f={},l=!1;if(b.contextData===Object(b.contextData)){b=b.contextData;c=c.options.replaceContextDataPeriodsWith;
var k,m;if("string"!==typeof c||!c.length)c="_";for(k in b)if(b.hasOwnProperty(k)&&((m=b[k])||"number"===typeof m))k=("contextData."+k).replace(/\./g,c),e[k]=m,l=!0}f.store_populated=l;return f}};